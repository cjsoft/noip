# 3548 Yuuna的礼物   
### 时间限制： 1 s&nbsp;&nbsp;&nbsp;&nbsp;空间限制： 32000 KB&nbsp;&nbsp;&nbsp;&nbsp;题目等级： 大师  
## 题目描述：  

<pre>
转眼就要到Karin的生日了！Yuuna她们想为她准备生日礼物！现在有许多礼物被排列成了一个一维序列，每个礼物都有一个价值。Yuuna对这个序列十分感兴趣。因此，你需要多次回答：在某个区间内出现次数第k1少的价值是多少，可能多个不同的价值出现次数均为第k1少，输出其中第k2小的，保证输入合法。注意内存限制。例如：对于一个区间而言(当然不一定是有序的):1,2,3,4,5,5,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12权值 出现次数1 1 出现次数第1少 第1小2 1 第2小3 1 第3小4 1 第4小5 2 出现次数第2少 第1小6 2 第2小7 4 出现次数第3少 第1小8 4 第2小9 4 第3小10 4 第4小11 6 出现次数第4少 第1小12 10 出现次数第5少 第1小若k1=3，k2=2，代表询问这个区间里出现次数第3少的权值中第2小的，则应该输出8。若k1=5，k2=1，代表询问这个区间里出现次数第5少的权值中第1小的，则应该输出12。若k1=1，k2=3，代表询问这个区间里出现次数第1少的权值中第3小的，则应该输出3。
</pre>
  
  
## 输入描述：  

<pre>
第一行包括一个整数n，代表序列的长度。第二行包括n个整数a1...an，代表该序列。第三行包括一个整数m，代表询问的次数。接下来m行，每行包括4个整数l，r，k1，k2，询问al...ar中出现次数第k1少的权值中第k2小的。  

</pre>
  
  
## 输出描述：  

<pre>
对于每个询问，仅输出一行，包括一个整数，代表你的回答。
</pre>
  
  
## 样例输入：  

<pre>
【输入样例1】  
103 6 6 8 3 10 1 6 5 6104 7 1 25 7 1 15 6 1 22 6 2 18 9 1 16 9 1 21 2 1 11 4 2 15 7 1 32 6 1 3  
【输入样例2】2014 18 19 11 15 13 9 10 5 13 3 14 14 12 12 8 4 17 8 8208 9 1 26 19 2 27 11 1 18 12 1 49 13 2 114 15 1 16 11 1 45 7 1 38 18 2 12 4 1 34 16 1 15 14 1 513 14 1 215 15 1 112 17 1 13 12 2 114 17 1 16 13 1 411 11 1 12 4 1 3  

</pre>
  
  
## 样例输出：  

<pre>
【输出样例1】3110655361010  
【输出样例2】10123131412101512193121412413410319  

</pre>
  
  
## 数据范围及提示：  

<pre>
【数据范围】1<=n<=40000，1<=ai<=n (1<=i<=n)，1<=m<=40000，1<=l<=r<=n，保证k1,k2合法。特殊数据:测试点 n m 备注0 <=1000 <=10001 <=1000 <=10002 <=30000 <=30000 k1 是区间内出现次数最多的权值出现次数的排名,k2=1(即询问该区间内最小的众数)3 <=30000 <=30000 同上4 <=16000 <=160005 <=16000 <=160006 <=40000 <=400007 <=40000 <=400008 <=40000 <=400009 <=40000 <=40000
</pre>
  
  
***  

##### AC: 2  
##### WA: 2  
##### TLE: 0  
##### MLE: 0  
##### RE: 4  
