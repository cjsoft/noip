# 1566 染色   
### 时间限制： 2 s&nbsp;&nbsp;&nbsp;&nbsp;空间限制： 256000 KB&nbsp;&nbsp;&nbsp;&nbsp;题目等级： 大师  
## 题目描述：  

<pre>
给定一棵有n个节点的无根树和m个操作，操作有2类：
1、将节点a到节点b路径上所有点都染成颜色c；
2、询问节点a到节点b路径上的颜色段数量（连续相同颜色被认为是同一段），如“112221”由3段组成：“11”、“222”和“1”。
请你写一个程序依次完成这m个操作。
</pre>
  
  
## 输入描述：  

<pre>
第一行包含2个整数n和m，分别表示节点数和操作数；
第二行包含n个正整数表示n个节点的初始颜色
下面n-1行每行包含两个整数 和 ，表示x和y之间有一条无向边。
下面m行每行描述一个操作：
“C a b c”表示这是一个染色操作，把节点a到节点b路径上所有点（包括a和b）都染成颜色c；
“Q a b”表示这是一个询问操作，询问节点a到节点b（包括a和b）路径上的颜色段数量。
</pre>
  
  
## 输出描述：  

<pre>
对于每个询问操作，输出一行答案。
</pre>
  
  
## 样例输入：  

<pre>
6 5
2 2 1 2 1 1
1 2
1 3
2 4
2 5
2 6
Q 3 5
C 2 1 1
Q 3 5
C 5 1 2
Q 3 5
</pre>
  
  
## 样例输出：  

<pre>
3
1
2
</pre>
  
  
## 数据范围及提示：  

<pre>
对于100%的数据1≤n≤104，1≤m≤105，1≤m≤109；  
 
</pre>
  
  
***  

##### AC: 87  
##### WA: 126  
##### TLE: 16  
##### MLE: 0  
##### RE: 58  
